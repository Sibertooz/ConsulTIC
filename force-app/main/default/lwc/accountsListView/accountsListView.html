<template>
    <lightning-card title="Accounts" icon-name="standard:account" variant="narrow">
        <lightning-button label={labels.ACCOUNT_NEW_BUTTON_LABEL} slot="actions" onclick={handleNewAccount}></lightning-button>
        <div class="slds-p-horizontal_small">
            <div class="slds-clearfix">
                <div class="slds-float_right">
                    <div class="slds-grid slds-m-bottom_medium">
                        <div class="slds-col slds-m-right_medium">
                            <lightning-combobox
                            options={typeOptions}
                            placeholder={labels.ACCOUNT_FILTER_BY_TYPE_PLACEHOLDER}
                            dropdown-alignment="right"
                            onchange={handleChangeType}
                            ></lightning-combobox>
                        </div>
                        <div class="slds-col">
                            <lightning-combobox
                            options={industryOptions}
                            placeholder={labels.ACCOUNT_FILTER_BY_INDUSTRY_PLACEHOLDER}
                            dropdown-alignment="right"
                            onchange={handleChangeIndustry}
                            ></lightning-combobox>
                        </div>
                    </div>
                </div>
                <div class="slds-float_left">
                    <lightning-input
                    lwc:ref="search"
                    placeholder={labels.ACCOUNT_SEARCH_BY_NAME_PLACEHOLDER}
                    onchange={handleSearch}
                    ></lightning-input>
                </div>
            </div>
            <div>
                <lightning-datatable
                    key-field="Id"
                    data={records}
                    columns={columns}
                    hide-checkbox-column
                ></lightning-datatable>
                <template if:true={showNoDataMessage}>
                    <input
                        type="text"
                        class="no-data-message"
                        value={labels.ACCOUNT_NO_AVAILABLE_ACCOUNTS}
                        disabled
                    />
                </template>
            </div>
        </div>
        <div slot="footer">
            <c-paginator
                page-number={currentPage}
                page-size={pageSize}
                total-item-count={totalRecords}
                items-on-page={pageSize}
                onprevious={handlePrevious}
                onnext={handleNext}
                ongotofirst={handleFirst}
                ongotolast={handleLast}
                onitemsonpagechanged={handlePageSizeChange}
                ongotopage={handleGoToPage}
            ></c-paginator>
        </div>
        <lightning-spinner
            if:true={showSpinner}
            alternative-text="Loading..."
            size="medium"
        ></lightning-spinner>
    </lightning-card>
</template>